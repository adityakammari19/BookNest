<!-- <div class="card" style="background-color: rgb(210, 228, 228); height: 400px">
  <div class="d-flex flex-column">
    <div class="d-flex mt-1 justify-content-center" style="height: 230px">
      <div class="image-container" style="height: 200px; width: 150px">
        @if(!book.coverImage){
        <img
          src="https://placehold.co/{{ book.bookTitle }}/grey/white"
          alt="product"
        />
        } @else {
        <img
          [src]="getCoverImage(book.coverImage)"
          class="card-img-top img-fluid img-responsive rounded mx-auto d-block"
          alt="{{ book.bookTitle }}"
        />
        }
      </div>
    </div>
    <div class="card-body">
      <h5
        class="card-title d-flex justify-content-center"
        style="font-size: 1.5em"
      >
        {{ book.bookTitle }}
      </h5>
      <div class="d-flex justify-content-around">
        <p class="card-text">{{ book.author }}</p>
        <p class="card-text">{{ book.price | currency : "INR" }}</p>
      </div>
      <div class="d-flex justify-content-around">
        <button
          class="btn btn-primary mt-2"
          (click)="viewDetails(book)"
          style="font-size: 0.75em"
        >
          View Details
        </button>
        <button
          *ngIf="!inCart"
          class="btn btn-success mt-2"
          (click)="addToCart(book)"
          style="font-size: 0.75em"
        >
          Add to Cart
        </button>
        <div *ngIf="inCart" class="btn-group" role="group">
          <button class="btn btn-secondary" (click)="decrementCartQuantity()">
            -
          </button>
          <span class="btn btn-outline-secondary">{{ cartQuantity }}</span>
          <button class="btn btn-secondary" (click)="incrementCartQuantity()">
            +
          </button>
        </div>
      </div>
    </div>
  </div>
</div> -->

<div
  class="card"
  style="background-color: rgb(210, 228, 228); height: 400px"
  (click)="viewDetails(book)"
>
  <div class="d-flex flex-column h-100">
    <div class="d-flex mt-1 justify-content-center" style="height: 230px">
      <div
        class="image-container"
        style="height: 200px; width: 150px; overflow: hidden"
      >
        <img
          *ngIf="!book.coverImage"
          src="https://placehold.co/150x200/grey/white?text={{
            book.bookTitle
          }}"
          alt="product"
          class="img-fluid"
          style="max-height: 100%; max-width: 100%; object-fit: cover"
        />
        <img
          *ngIf="book.coverImage"
          [src]="getCoverImage(book.coverImage)"
          class="card-img-top img-fluid img-responsive rounded mx-auto d-block"
          alt="{{ book.bookTitle }}"
          style="max-height: 100%; max-width: 100%; object-fit: cover"
        />
      </div>
    </div>
    <div class="card-body d-flex flex-column justify-content-between">
      <h5 class="card-title text-center dynamic-title">
        {{ book.bookTitle }}
      </h5>
      <div class="d-flex justify-content-around">
        <p class="card-text">{{ book.author }}</p>
        <p class="card-text">{{ book.price | currency : "INR" }}</p>
      </div>
      <div class="d-flex justify-content-around">
        <button
          class="btn btn-primary mt-2"
          (click)="viewDetails(book); $event.stopPropagation()"
          style="font-size: 0.75em"
        >
          View Details
        </button>
        <button
          *ngIf="!inCart"
          class="btn btn-success mt-2"
          (click)="addToCart(book); $event.stopPropagation()"
          style="font-size: 0.75em"
        >
          Add to Cart
        </button>
        <div
          *ngIf="inCart"
          class="btn-group border border-secondary"
          role="group"
        >
          <button
            class="btn btn-danger"
            (click)="decrementCartQuantity(); $event.stopPropagation()"
          >
            -
          </button>
          <span class="btn align-self-center">
            {{ cartQuantity }}
          </span>
          <button
            class="btn btn-success"
            (click)="incrementCartQuantity(); $event.stopPropagation()"
          >
            +
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
